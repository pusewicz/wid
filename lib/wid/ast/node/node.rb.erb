# frozen_string_literal: true
# rbs_inline: enabled
#
# --- DO NOT EDIT THIS FILE ---
#
# This file was generated by `rake` from lib/wid/ast/node/node.rb.erb.
#
# Check the definition at lib/wid/ast/nodes.yml.
#
# Generated at: <%= Time.now %>

module Wid
  module AST
    class Node
      class <%= node.name %> < Node
        <%- if node.fields.any? -%>
        <%- node.fields.each do |field| -%>
        attr_reader :<%= field.name %> #: <%= field.rbs_type %>
        <%- end -%>

        <%- node.fields.each do |field| -%>
        # @rbs <%= field.name %>: <%= field.rbs_type %>
        <%- end -%>
        # @rbs return: void
        def initialize(<%= (node.fields.map { _1.name + ":" }).join(", ") %>)
          <%- node.fields.each do |field| -%>
          @<%= field.name %> = <%= field.name %>
          <%- end -%>
        end
        <%- end -%>

        <%- if node.fields.any? -%>
        def to_h
          super.merge(<%= node.fields.map { |v| "#{v.name}: @#{v.name}#{v.emit_to_h}" }.join(", ") %>)
        end
        <%- end -%>
      end
    end
  end
end
